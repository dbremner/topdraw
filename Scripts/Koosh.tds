desktop.fillLayer(new Color("black"));

function koosh(pt, r, c, variation) {
	var count = r;	
	var e = new Point;
	var angle = 2 * Math.PI / count;
	var displacer = new Randomizer(-50, 50);
	
	for (var i = 0; i < count; ++i) {
		e.x = pt.x + Math.cos(i * angle) * r + displacer.floatValue;
		e.y = pt.y + Math.sin(i * angle) * r + displacer.floatValue;
		
		desktop.beginPath();
		desktop.moveTo(pt);
		desktop.wavyLineTo(e, 0.9, displacer);
		desktop.strokeStyle = c.vary(variation, variation, variation, 0);
		desktop.stroke();
	}
}

var db = desktop.bounds;
var radiusRnd = new Randomizer(100, db.height / 4);
var percentRnd = new Randomizer;
var variation = 0.2;

desktop.lineJoin = "round";

for (var x = 0; x < 50; ++x) {
	var pt = new Point(db.width * percentRnd.floatValue, 
		db.height * percentRnd.floatValue);
	var c = new Color;
	c.a = 0.5;
	desktop.lineWidth = 1 + percentRnd.floatValue * 4;
	
	koosh(pt, radiusRnd.floatValue, c, variation);
}

var f = new Filter("CIGaussianBlur");
f.setValueForKey("inputRadius", 3);
desktop.applyFilter(f);